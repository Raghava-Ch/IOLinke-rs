language = "C"
include_version = true
autogen_warning = "//! Warning, this file is autogenerated by cbindgen. Don't modify this manually."
include_guard = "__IOLINK_DEVICE_STACK_H__"
pragma_once = true
cpp_compat = true
style = "both"
header = """/**
 * @file iolinke_device.h
 * @brief C API for interfacing with the IOLinke Device Stack (Rust implementation)
 *
 * This header provides the C language interface for the IOLinke Device Stack, which is implemented in Rust.
 * It is intended for use in C projects that require IO-Link device protocol support, including device state
 * management, communication configuration, process data handling, and physical layer control.
 *
 * @note
 * - This file is auto-generated by cbindgen. Do not modify manually.
 * - All types, enums, and function signatures are designed for ABI compatibility with the Rust implementation.
 * - The header includes detailed documentation and specification references for each API, following IO-Link v1.1.4.
 *
 * @section IntegratorFunctions
 * Functions marked with `Integrator Implemented Function` MUST be implemented by the C project developer.
 * These functions represent platform-specific hooks (e.g., hardware timers, physical layer configuration)
 * and are called by the Rust stack. Failure to implement these will result in incomplete integration.
 *
 * @section APIOverview
 * The API covers:
 * - Device state machine and mode management
 * - Process Data cycle and input/output handling
 * - Device communication and identification configuration
 * - Physical Layer control and data transfer
 * - Timer management for protocol timing requirements
 * - Event and error indication
 *
 * @section Usage
 * 1. Implement all required `Integrator Implemented Function` hooks in your C codebase.
 * 2. Use the provided API to create and manage IO-Link device instances, configure communication parameters,
 *    handle process data, and interact with the physical layer.
 * 3. Ensure regular polling via `iolinke_device_poll()` to advance protocol state machines.
 *
 * @section Specification
 * All API elements reference IO-Link Interface Specification v1.1.4, with section and table numbers
 * provided for further details.
 *
 * @section Safety
 * - All pointers must be valid and non-null where required.
 * - Enum values must match the permitted specification values.
 * - Thread safety and concurrency are not guaranteed; ensure appropriate synchronization if used in multi-threaded contexts.
 *
 * @section Limitations
 * - The header does not provide implementation for hardware-specific functions; these must be supplied by the integrator.
 * - Some error handling is performed via return values; consult documentation for error codes and handling strategies.
 *
 * @copyright
 * Copyright (c) 2024. This file is auto-generated and subject to the license of the IOLinke Device Stack project.
 */
"""

includes = []

[enum]
prefix_with_name = true

[export.rename]
"DlControlCode" = "dl_control_code_t"
"DeviceMode" = "device_mode_t"
"DeviceState" = "device_state_t"
"DeviceActionState" = "device_action_state_t"
"IoLinkMode" = "iolink_mode_t"
"Timer" = "timer_t"
"DeviceIdent" = "device_ident_t"
"TransmissionRate" = "transmission_rate_t"
"IOLinkeDeviceHandle" = "iolinke_device_handle_t"
"RevisionId" = "revision_id_t"
"ProcessDataIn" = "process_data_in_t"
"ProcessDataOut" = "process_data_out_t"
"DeviceCom" = "device_com_t"
"SioMode" = "sio_mode_t"
"MsequenceCapability" = "m_seq_capability_t"
"CycleTime" = "cycle_time_t"

[parse]
parse_deps = true
clean = true
exclude = [
    "^std::.*",
    "^core::.*",
    "^alloc::.*",
    "^__.*",
    "^_.*",
    "regex",
    "cbindgen",
]
